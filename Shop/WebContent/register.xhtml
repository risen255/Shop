<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/templates/main-template.xhtml">
	<ui:define name="title">Rejestracja</ui:define>
	<ui:define name="content">
		
		<div class="registerForm-messages">
			<h:outputText id="userMessageSuccess"/>
			<h:message for="userMessageSuccess" style="color: green"/>
		</div>
		
		<div class="registerForm">

			<h:form id="register" styleClass="form form-style-8" style="width: 750px;">
	
				<h:panelGrid columns="3">
				
					<h:outputLabel>Nazwa użytkownika:</h:outputLabel>
					<h:inputText id="userName" value="#{registerCredential.username}"
								 required="true" requiredMessage="Musisz podać nazwę użytkownika.">
						<f:validator validatorId="UsernameValidator" />
						<f:ajax event="blur" render="userNameMessage" /> 
					</h:inputText>
					<h:message id="userNameMessage" for="userName" style="color: red"/>
					
					<h:outputLabel>Hasło:</h:outputLabel>
					<h:inputText id="userPassword" value="#{registerCredential.password}"
								 required="true" requiredMessage="Musisz podać hasło.">
						<f:validator validatorId="PasswordValidator" />
						<f:ajax event="blur" render="userPasswordMessage" /> 
					</h:inputText>
					<h:message id="userPasswordMessage" for="userPassword" style="color: red"/>
					
					<h:outputLabel>Powtórz hasło:</h:outputLabel>
					<h:inputText id="userRepeatPassword" value="#{registerCredential.repeatPassword}"
								 required="true" requiredMessage="Musisz wpisać ponownie hasło.">
						<f:validator validatorId="RepeatPasswordValidator" />
						<f:ajax event="blur" execute="userPassword userRepeatPassword" render="userRepeatPasswordMessage" />
					</h:inputText>
					<h:message id="userRepeatPasswordMessage" for="userRepeatPassword" style="color: red"/>	
					
					<h:outputLabel>E-mail:</h:outputLabel>
					<h:inputText id="userEmail" value="#{registerCredential.email}"
								 required="true" requiredMessage="Musisz podać e-mail.">
						<f:validator validatorId="EmailValidator" />
						<f:ajax event="blur" render="userEmailMessage" /> 
					</h:inputText>
					<h:message id="userEmailMessage" for="userEmail" style="color: red"/>	
					
					<h:outputLabel>Numer telefonu:</h:outputLabel>
					<h:inputText id="userPhoneNumber" value="#{registerCredential.phoneNumber}"
								 required="true" requiredMessage="Musisz podać numer telefonu.">
						<f:validator validatorId="PhoneNumberValidator"/>
						<f:ajax event="blur" render="userPhoneNumberMessage"/>
					</h:inputText>
					<h:message id="userPhoneNumberMessage" for="userPhoneNumber" style="color: red"/>
				</h:panelGrid>
	
				<h:commandButton value="Zarejestruj" action="#{register.doRegister}" styleClass="margin-right-240"/>
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>